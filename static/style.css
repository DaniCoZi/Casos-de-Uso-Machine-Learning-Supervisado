/* =========================
   Variables y base
========================= */
:root{
  --bg1:#0f172a;      /* azul noche */
  --bg2:#1e293b;      /* gris-azulado */
  --bg3:#334155;      /* gris pizarra */
  --panel:#111827;    /* panel oscuro */
  --border:#1f2937;   /* borde sutil */
  --text:#e5e7eb;     /* texto claro */
  --accent:#22d3ee;   /* cian */
  --subtitle:#c7d2fe; /* lavanda sutil */
  --header-h: 72px;   /* ajusta a la altura real */
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui, Arial, sans-serif;
  color:var(--text);
  min-height:100vh;
  background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3));
}

/* =========================
   Header y navegación
========================= */
header{
  background:var(--panel);
  padding:20px;
  border-bottom:1px solid var(--border);
  text-align:center;
  position: static;
  z-index: 1;
}

header h1{ margin:0 0 10px 0; }

.menu{
  list-style:none;
  display:flex; gap:20px;
  justify-content:center;
  padding:0; margin:0;
  align-items: center; 
}

a{ color:var(--accent); text-decoration:none; }

.menu li a{
  font-weight:600;
  padding:6px 10px;
  border-radius:6px;
}

.menu li a:hover,
.menu li a.active{ background:var(--border); }

/* Dropdown */
.dropdown{ position: relative; }

.dropbtn{
  background: transparent;
  color: var(--accent);
  font-weight: 600;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
}

.dropbtn:hover,
.dropbtn.active{
  background: var(--border);
}

.dropdown-menu{
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 260px;
  background:#0b1220;
  border:1px solid var(--border);
  border-radius:12px;
  padding:8px;
  margin:0;
  list-style:none;
  display:none;
  z-index:1001;
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
}

.dropdown:hover .dropdown-menu,
.dropdown:focus-within .dropdown-menu{
  display: block;
}

.dropdown-menu li a{
  display: block;
  color: var(--text);
  text-decoration: none;
  padding: 8px 10px;
  border-radius: 8px;
}

.dropdown-menu li a:hover,
.dropdown-menu li a.active{
  background: #111827;
  color: var(--accent);
}

/* =========================
   Layout principal
========================= */
main{
  padding: 20px 20px 40px;
  max-width:1100px;
  margin:0 auto;
  line-height:1.7;
}

@media (max-width: 720px){
  :root{ --header-h: 140px; }
  .menu{ flex-wrap:wrap; gap:10px; }
}

@media (prefers-reduced-motion: reduce){
  *{ scroll-behavior:auto; }
}

/* =========================
   Bloques de texto (Inicio)
========================= */
.intro, .objetivo{
  background:#0b1220;
  border:1px solid var(--border);
  border-radius:12px;
  padding:20px;
  margin:20px 0;
}

.intro h2, .objetivo h2{
  color:var(--accent);
  text-align:center;
  margin:0 0 12px 0;
}

/* =========================
   Cards de la portada
========================= */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
  gap:16px; margin-top:12px;
}

.card{
  background:#0b1220;
  border:1px solid var(--border);
  border-radius:12px;
  padding:16px;
}

.card { border-radius: 14px; }
.card .card-header { border-bottom: 1px solid rgba(255,255,255,0.08); }

/* =========================
   Tipografía y elementos
========================= */
h1{ margin:0 0 12px; }
h3{ margin:8px 0 10px; color:var(--subtitle); }

ul{ margin:10px 0 8px 20px; }
ul li{ margin:6px 0; }

a.btn, .btn{
  display:inline-block; margin-top:10px;
  background:var(--accent); color:#06252d;
  padding:8px 12px; border-radius:10px; font-weight:700;
}

/* Botón primario coherente con el tema (limpio de duplicados) */
.btn.btn-primary{
  background: var(--accent);
  color: #06252d;
  border: none;
  font-weight: 700;
  border-radius: 12px;
}
.btn.btn-primary:hover{ filter: brightness(.95); }

/* Chips/metrics (sin duplicados) */
.metric{
  background:#0a1020;
  border:1px solid var(--border);
  border-radius:10px;
  padding:.35rem .6rem;
}

/* =========================
   Páginas de cada caso
========================= */
.case-section{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--border);
  border-radius:12px;
  padding:18px 20px;
  margin:18px 0;
}

.case-title-divider{
  height:2px;
  background:linear-gradient(90deg, transparent, #334155, transparent);
  margin:8px 0 14px; border-radius:999px;
}

/* =========================
   Formularios (dark)
========================= */
.form-control, input[type="number"], input[type="text"]{
  background:#0b1220;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
}
.form-control:focus, input[type="number"]:focus, input[type="text"]:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 .2rem rgba(34,211,238,.18);
  outline: none;
}

/* =========================
   Código y fórmulas
========================= */
pre, pre code{
  background: #0b1220;
  color: #e5e7eb;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
}

/* Fórmula dentro de <pre> (consolidada) */
.formula-pre{
  display:flex; justify-content:center; align-items:center;
  background:#0b1220;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 14px;
  margin:.5rem 0 .25rem;
  overflow-x:auto;
  font-family: inherit;
  white-space: normal;
}
.formula-pre .mjx-container{ line-height:1.2; }

/* =========================
   Recuadros explicativos
========================= */
.explain-box{
  background: rgba(11,18,32,.92);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px 18px;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
  margin: .75rem 0 1.25rem;
}

.explain-box h3{ margin:0 0 .5rem; }

.explain-list{ margin:.25rem 0 .9rem 1.2rem; }
.explain-list li{ margin:.35rem 0; }

.metrics-row{
  display:flex; flex-wrap:wrap; gap:.5rem;
  margin:.1rem 0 .8rem;
}

.example{ margin-top:.25rem; }
.badge-pill{
  display:inline-block;
  background: var(--accent);
  color:#06252d;
  font-weight:700;
  border-radius:999px;
  padding:.25rem .6rem;
  margin-bottom:.35rem;
}

.muted{ color:#94a3b8; }

/* =========================
   Página de logística (UI extra)
========================= */
.rl-page .page-title { font-weight: 700; letter-spacing: .2px; }
.section-sep { border: 0; border-top: 1px solid rgba(255,255,255,.12); margin: 1.5rem 0; }

.card-pane { border-radius: 14px; }
.btn-action { padding: .6rem 1rem; border-radius: 10px; font-weight: 600; }
.input-th { width: 110px; }

/* Accuracy badge */
.accuracy-badge {
  background: linear-gradient(135deg, #a5e9ff 0%, #baf7ff 100%);
  color: #0a2a37;
  font-weight: 700;
  border-radius: 999px;
  padding: .5rem .9rem;
  display: inline-flex;
  gap: .4rem;
  align-items: center;
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
}
.accuracy-badge .val { font-variant-numeric: tabular-nums; }

/* Títulos y subtítulos en cards (consolidado) */
.card-title, .card-header h5 { color: #f8f9fa; font-weight: 700; }
.card-header .small, .card-body .small { color: #cfd8dc !important; }

/* Ruta CSV */
.csv-path { color: #b0bec5; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }

/* =========================
   Tablas generadas por pandas
   (consolidado a la última versión)
========================= */
.nice-table table.tbl {
  border-collapse: separate; 
  border-spacing: 0;
  width: 100%;
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 6px 22px rgba(0,0,0,.12);
}

.nice-table table.tbl thead th {
  position: sticky; 
  top: 0; 
  z-index: 1;
  background: rgba(255,255,255,.06);
  backdrop-filter: saturate(160%) blur(6px);
}

.nice-table table.tbl th,
.nice-table table.tbl td { 
  vertical-align: middle; 
  padding: .6rem .75rem; 
  white-space: nowrap;
}

.nice-table table.tbl tbody tr:hover { 
  background: rgba(255,255,255,.04); 
}

.nice-table table.tbl tbody td {
  border-top: 1px solid rgba(255,255,255,.08) !important; 
}

/* Badge clara en oscuro (consolidada) */
.badge.bg-info.text-dark { 
  background-color: #a5e9ff !important; 
  color: #0a2a37 !important; 
}

/* === Ajustes para el iframe del mapa === */
.iframe-wrap {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px;
}

.iframe-wrap iframe {
  width: 95%;         /* más ancho */
  max-width: 1200px;  /* límite para pantallas grandes */
  height: 80vh;       /* más alto, ocupa 80% de la altura visible */
  border-radius: 12px;
  border: 1px solid var(--border);
  background: #000;   /* para que no se vea vacío mientras carga */
}

/* === Botón con efecto de brillo al hover === */
.card-header .btn {
  background: var(--accent);
  color: #06252d;
  font-weight: 800;
  border: none;
  border-radius: 999px;
  padding: 10px 16px;
  transition: box-shadow .25s ease, transform .1s ease;
}

.card-header .btn:hover {
  box-shadow: 0 0 12px 4px rgba(34, 211, 238, 0.6);
  transform: translateY(-2px);
}

/* ====== Optimización caso práctico (scoped a .rl-page) ====== */

/* Card header más limpio y con buen espaciado */
.rl-page .card-pane > .card-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:18px 22px;
  background:linear-gradient(180deg, rgba(255,255,255,.04), transparent);
  border-bottom:1px solid var(--border);
  border-top-left-radius:14px; border-top-right-radius:14px;
}

/* Título: tamaño responsivo sin ser exagerado */
.rl-page .card-pane .card-title{
  margin:0;
  font-weight:800;
  font-size:clamp(1.35rem, 2.6vw, 2.2rem);
  letter-spacing:.2px;
}

/* Subtítulo de ubicación con mejor legibilidad */
.rl-page .card-pane .small{
  color:#b8c4d9 !important;
  font-size:clamp(.85rem, 1.6vw, .95rem);
}

/* Secciones: más contraste y aire */
.rl-page .case-section{
  background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 10px 26px rgba(0,0,0,.16);
  padding:22px 22px;
}

/* Titulares de sección */
.rl-page .case-section h3{
  color:#eaf2ff;
  font-weight:800;
  letter-spacing:.2px;
  margin:0 0 .35rem;
}

/* Caja explicativa con borde más visible y radios coherentes */
.rl-page .explain-box{
  background:rgba(11,18,32,.94);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:16px 18px;
  box-shadow:0 8px 24px rgba(0,0,0,.24);
}

/* Listas con bullets más visibles */
.rl-page .explain-list li,
.rl-page .case-section ul > li{
  margin:.4rem 0;
}
.rl-page .case-section ul > li::marker{ color:var(--accent); }

/* Chips/“badge” de objetivo más compactos */
.rl-page .badge-pill{
  background:var(--accent);
  color:#06252d;
  padding:.28rem .65rem;
  font-weight:800;
  border-radius:999px;
  box-shadow:0 6px 18px rgba(34,211,238,.18);
}

/* Texto de párrafo con un poquito más de contraste */
.rl-page .case-section p{ color:#dbe2ec; }

/* Métricas: separar mejor */
.rl-page .metrics-row{ gap:.65rem; margin:.35rem 0 1rem; }

/* Tabla: reducir densidad y alinear contenido */
.rl-page .nice-table table.tbl th,
.rl-page .nice-table table.tbl td{
  padding:.55rem .7rem;
}

/* Formulario de predicción: grid responsivo elegante */
.rl-page .predict-form .metrics-row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap:.8rem 1rem;
  margin-top:.5rem;
}
.rl-page .predict-form label{
  display:flex;
  flex-direction:column;
  gap:.35rem;
}
.rl-page .predict-form .form-control{
  height:42px;
  font-size:.95rem;
}

/* Botón de acción del formulario */
.rl-page .btn-action{
  padding:.7rem 1.05rem;
  border-radius:12px;
  font-weight:800;
}

/* Ajustes en móviles */
@media (max-width: 640px){
  .rl-page .card-pane > .card-header{ flex-direction:column; align-items:stretch; }
  .rl-page .card-pane .card-title{ font-size:clamp(1.15rem, 4.5vw, 1.6rem); }
  .rl-page .btn-action{ width:100%; }
}

/* ===== Mejora de contraste y jerarquía en el caso práctico (scoped) ===== */

/* Párrafos y listas dentro de secciones: sube contraste y legibilidad */
.rl-page .case-section p,
.rl-page .case-section li {
  color: #e3e9f3;            /* más claro que #dbe2ec */
  line-height: 1.75;
}

/* Listas dentro de tarjetas explicativas: bullets visibles y separación cómoda */
.rl-page .explain-box .explain-list li { 
  margin: .48rem 0; 
}
.rl-page .case-section ul > li::marker { color: var(--accent); }

/* Caja "Variables": borde y fondo con un pelín más de contraste */
.rl-page .explain-box{
  background: rgba(11,18,32,.96);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 10px 28px rgba(0,0,0,.22);
}

/* Títulos de sección más presentes (sin exagerar) */
.rl-page .case-section h3{
  color: #f1f6ff;
  font-weight: 800;
  letter-spacing: .2px;
  margin: 0 0 .4rem;
}

/* “Uso recomendado” como chip más definido */
.rl-page .badge-pill{
  background: var(--accent);
  color: #06252d;
  font-weight: 800;
  padding: .3rem .7rem;
  border-radius: 999px;
  box-shadow: 0 6px 18px rgba(34,211,238,.22);
}

/* Texto atenuado un poco más legible */
.rl-page .muted { color: #c2ccda; }

/* Separadores de sección más sutiles */
.rl-page .case-title-divider{
  height: 2px;
  background: linear-gradient(90deg, transparent, #3a4a61, transparent);
  opacity: .85;
}

/* Card header: misma estética y mejor respiro */
.rl-page .card-pane > .card-header{
  padding: 20px 24px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), transparent);
  border-bottom: 1px solid rgba(255,255,255,.10);
}
.rl-page .card-pane .card-title{
  font-size: clamp(1.4rem, 2.5vw, 2.1rem);
}

/* Botón de “Entrenar y evaluar”: mismo estilo que definiste para hover brillante */
.rl-page .card-pane .btn.btn-primary{
  padding: .7rem 1.1rem;
  border-radius: 999px;
  font-weight: 800;
  box-shadow: 0 8px 22px rgba(34,211,238,.18);
}
.rl-page .card-pane .btn.btn-primary:hover{
  box-shadow: 0 0 12px 4px rgba(34,211,238,.6);
  transform: translateY(-2px);
}

/* Tablas: un poco menos densas */
.rl-page .nice-table table.tbl th,
.rl-page .nice-table table.tbl td {
  padding: .62rem .8rem;
}

/* Select con menú desplegable oscuro */
select.form-control{
  background:#0b1220;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
  height:42px;
  padding:0 .9rem;
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:
    linear-gradient(180deg,transparent,transparent),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%238aa0b5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right .7rem center;
  background-size:18px 18px;
  padding-right:2.2rem;
}
select.form-control:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 .2rem rgba(34,211,238,.18);
  outline:none;
}
/* Estilo del panel de opciones (soportado por Chrome/Firefox actuales) */
select.form-control option,
select.form-control optgroup{
  background:#0b1220;
  color:var(--text);
}

/* Placeholders atenuados cuando no hay selección */
select.form-control:invalid{ color:#94a3b8; }
select.form-control option[disabled][hidden]{ color:#94a3b8; }

/* Grid del form: columnas más equilibradas en desktop */
.rl-page .predict-form .metrics-row{
  display:grid;
  grid-template-columns:repeat(4, minmax(200px,1fr));
  gap:1rem;
}
@media (max-width: 900px){
  .rl-page .predict-form .metrics-row{ grid-template-columns:repeat(2, minmax(200px,1fr)); }
}
@media (max-width: 520px){
  .rl-page .predict-form .metrics-row{ grid-template-columns:1fr; }
}

